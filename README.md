# 通用文生图插件

这是一个支持多平台的文生图插件，目前支持阿里云通义万相和火山引擎两种服务。

## 功能特点

- 支持阿里云通义万相文生图服务
- 支持火山引擎文生图服务
- 可以在消息中指定使用哪个服务
- 支持提取正向提示词和反向提示词
- 支持指定图片尺寸
- 支持自定义触发关键词
- 支持为火山引擎选择不同的调度配置

## 使用方法

1. 在消息中包含绘画相关关键词（可在配置中自定义）加上描述内容即可触发文生图功能
2. 可以在消息中通过"@阿里"或"@火山"来指定使用哪个服务
3. 可以使用"不要"、"避免"等词语后接内容来指定反向提示词
4. 可以在消息中包含尺寸信息如"1024*1024"来指定图片尺寸

示例：
- "画一张山水画"
- "@阿里 画一只可爱的猫咪"
- "@火山 画一张科幻城市 不要模糊 1024*1024"

## 配置说明

插件需要配置相应平台的API密钥才能使用。主要配置项包括：

- `default_provider`: 默认文生图服务提供商，可选"阿里"或"火山"
- `alibaba_api_key`: 阿里云通义万相API密钥
- `alibaba_model`: 通义万相文生图模型名称
- `volcengine_ak`: 火山引擎AccessKey
- `volcengine_sk`: 火山引擎SecretKey
- `volcengine_model`: 火山引擎文生图模型名称
- `fire_schedule_conf`: 火山引擎调度配置，可选"general_v20_9B_pe"(美感版)或"general_v20_9B_rephraser"(标准版)
- `draw_keywords`: 触发文生图的关键词，多个关键词用英文逗号分隔
- `prompt_extend`: 是否开启prompt智能改写(仅阿里云)

## 注意事项

1. 图片生成可能需要一定时间，请耐心等待
2. 部分平台可能有内容安全限制，某些类型的图片可能无法生成
3. 同一时间只会调用一个服务商的模型，优先使用消息中指定的，如未指定则使用默认配置
4. 火山引擎支持两种调度配置：
   - 标准版(general_v20_9B_rephraser)：图文匹配度更好，结构表现更好
   - 美感版(general_v20_9B_pe)：美感更好，出图多样性更多